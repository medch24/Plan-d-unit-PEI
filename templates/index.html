<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G√©n√©rateur d'Unit√©s PEI</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéì G√©n√©rateur d'Unit√©s PEI de l'IB</h1>
            <p class="subtitle">Cr√©ez automatiquement vos unit√©s d'enseignement du Programme d'√âducation Interm√©diaire</p>
        </header>

        <div class="main-content">
            <!-- √âtape 1: Informations g√©n√©rales -->
            <section id="step1" class="step active">
                <h2>üìã √âtape 1: Informations G√©n√©rales</h2>
                
                <div class="form-group">
                    <label for="enseignant">Nom de l'enseignant(e) :</label>
                    <input type="text" id="enseignant" placeholder="Ex: Marie Dupont">
                </div>

                <div class="form-group">
                    <label for="matiere">Mati√®re :</label>
                    <select id="matiere">
                        <option value="">-- S√©lectionnez une mati√®re --</option>
                        <option value="design">Design</option>
                        <option value="langue_litterature">Langue et litt√©rature</option>
                        <option value="acquisition_langues">Acquisition de langues</option>
                        <option value="individus_societes">Individus et soci√©t√©s</option>
                        <option value="sciences">Sciences</option>
                        <option value="mathematiques">Math√©matiques</option>
                        <option value="arts">Arts</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="annee_pei">Ann√©e du PEI :</label>
                    <select id="annee_pei">
                        <option value="">-- S√©lectionnez une ann√©e --</option>
                        <option value="pei1-2">PEI 1 & 2</option>
                        <option value="pei3-4">PEI 3 & 4</option>
                        <option value="pei5">PEI 5</option>
                    </select>
                </div>

                <button class="btn btn-primary" onclick="goToStep2()">Suivant ‚Üí</button>
            </section>

            <!-- √âtape 2: Saisie des chapitres -->
            <section id="step2" class="step">
                <h2>üìö √âtape 2: Saisie des Chapitres du Programme</h2>
                <p class="info-text">
                    Saisissez tous les chapitres de votre programme. L'IA les regroupera automatiquement en 
                    <strong id="nb-unites-text">4 unit√©s</strong> coh√©rentes.
                </p>

                <div id="chapitres-container">
                    <div class="chapitre-item" data-index="0">
                        <div class="chapitre-header">
                            <h3>Chapitre 1</h3>
                            <button class="btn-icon btn-remove" onclick="removeChapitre(0)" title="Supprimer">
                                ‚úï
                            </button>
                        </div>
                        <div class="form-group">
                            <label>Titre du chapitre :</label>
                            <input type="text" class="chapitre-titre" placeholder="Ex: Introduction √† la programmation">
                        </div>
                        <div class="form-group">
                            <label>Contenu/Description :</label>
                            <textarea class="chapitre-contenu" rows="3" placeholder="D√©crivez le contenu du chapitre..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Dur√©e (heures) :</label>
                            <input type="number" class="chapitre-duree" min="1" value="10">
                        </div>
                    </div>
                </div>

                <button class="btn btn-secondary" onclick="addChapitre()">+ Ajouter un chapitre</button>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goToStep1()">‚Üê Retour</button>
                    <button class="btn btn-primary" onclick="generateUnits()">G√©n√©rer les Unit√©s üöÄ</button>
                </div>
            </section>

            <!-- √âtape 3: R√©sultats -->
            <section id="step3" class="step">
                <h2>‚ú® √âtape 3: Unit√©s G√©n√©r√©es</h2>
                <p class="info-text">
                    Voici les unit√©s g√©n√©r√©es automatiquement. Vous pouvez les t√©l√©charger au format Word.
                </p>

                <div id="loading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>G√©n√©ration des unit√©s en cours...</p>
                </div>

                <div id="units-container"></div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goToStep2()">‚Üê Modifier les chapitres</button>
                    <button class="btn btn-primary" onclick="downloadAllUnits()">T√©l√©charger Toutes les Unit√©s</button>
                </div>
            </section>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
